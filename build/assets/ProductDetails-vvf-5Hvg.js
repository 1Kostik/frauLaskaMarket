import{G as O,c as l,a as R,o as $,n as m,r as c,j as e,b as d,F as ht,d as pt,u as gt,k as ut,s as ft,l as I,m as wt,p as xt,q as mt,h as vt,M as bt,t as St,v as kt}from"./index-C641oKLp.js";import{u as V,h as P,S as Ct,a as F,b as $t,N as Bt,c as U,d as zt,W as yt,e as Et,B as Lt,s as Dt,H as _t,f as jt,t as At,I as Rt,g as Tt,T as Nt,i as Mt,j as Ot,P as Wt,k as Ht,l as It,C as Vt,m as q,U as Pt,L as Ft,n as Ut,o as qt,p as Gt,q as G,D as K,r as Q,v as Z,w as Kt,x as Qt,y as Zt,z as Jt}from"./TrendingProducts-CUGlh-3K.js";import{a as Xt}from"./SortingItems-BoznZk6F.js";import{h as Yt,P as te}from"./handleImgError-BVlSbmPZ.js";import{a as ee}from"./ProductCard-C4G9q0qv.js";import{e as ne}from"./extractUnitTypeTitle-B3CNwRiF.js";import"./arrow-down-select-Bh-MySUy.js";import"./Modal-BUhM34K4.js";function ie(t){return O({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(t)}function oe(t){return O({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m12 19-7-7 7-7"},child:[]},{tag:"path",attr:{d:"M19 12H5"},child:[]}]})(t)}function re(t){return O({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"m12 5 7 7-7 7"},child:[]}]})(t)}const ae=t=>{var i,n,o,h,g,u;return l`
  width: ${(i=t.width)==null?void 0:i[0]};
  height: ${(n=t.height)==null?void 0:n[0]};

  img {
    object-fit: cover;
  }

  ${R(l`
    width: ${(o=t.width)==null?void 0:o[1]};
    height: ${(h=t.height)==null?void 0:h[1]};
  `)}

  ${$(l`
    width: ${(g=t.width)==null?void 0:g[2]};
    height: ${(u=t.height)==null?void 0:u[2]};
  `)}
`};l`
  width: 343px;
  height: 456px;

  img {
    object-fit: cover;
  }

  ${R(l`
    width: 728px;
    height: 456px;
  `)}

  ${$(l`
    width: 1360px;
    height: 456px;
  `)}
`;const se=m.div`
  display: flex;
  margin-bottom: 24px;
  height: 40px;
  align-items: center;
  justify-content: space-between;

  ${$(l`
    margin-bottom: 40px;
  `)}
`,ce=m.div`
  position: relative;

  ${({stylesProps:t})=>{var i,n,o,h,g,u,v,w,f;return l`
    width: ${(i=t.container)==null?void 0:i.width[0]};
    padding-top: ${(n=t.container)==null?void 0:n["padding-top"][0]};
    padding-bottom: ${(o=t.container)==null?void 0:o["padding-bottom"][0]};
    height: ${(h=t.container)==null?void 0:h.height[0]};
    ${$(l`
      padding-top: ${(u=(g=t.container)==null?void 0:g["padding-top"])==null?void 0:u[1]};
      padding-bottom: ${(w=(v=t.container)==null?void 0:v["padding-bottom"])==null?void 0:w[1]};
      height: ${(f=t.container)==null?void 0:f.height[1]};
    `)};
  `}}
`,le=l`
  & path {
    fill: var(--bg-light-grey);
  }
`,de=l`
  & path {
    fill: var(--bg-light-grey);
  }
`,he=l`
  & path {
    fill: var(--bg-light-grey);
  }
`,pe=l`
  & path {
    fill: var(--bg-light-grey);
  }
`,ge=m.div`
  ${({stylesProps:t})=>{var i,n;return l`
    display: flex;
    gap: ${(i=t.gap)==null?void 0:i[0]};

    ${R(l`
      gap: ${(n=t.gap)==null?void 0:n[1]};
    `)};
  `}}
`,J=m.button`
  background: transparent;
`,X=m.h2`
  color: var(--text-light-grey);
  font-size: 22px;
  font-family: Fixel;
  font-style: normal;
  font-weight: 600;
  line-height: 100%;
  letter-spacing: 0.44px;

  ${$(l`
    font-size: 32px;
  `)}
`,ue=t=>{var i;return l`
  display: ${(i=t.display)==null?void 0:i[2]};
  position: absolute;
  width: 100%;
  height: 40px;

  justify-content: space-between;
  padding: 0 12px;
  top: 140px;
  z-index: 50;

  ${R(l`
    top: 146px;
  `)};

  ${$(l`
    top: 293px;
  `)};
`},Y=l`
  width: 40px;
  height: 40px;
  padding: 10px;
  border-radius: 12px;
  background: var(--bg-tranparent);
`,tt=l`
  width: 20px;
  height: 20px;
  color: var(--bg-black);
`,fe=t=>{var i,n,o,h,g,u;return{360:{slidesPerView:(i=t.slidesPerView)==null?void 0:i[0],spaceBetween:(n=t.spaceBetween)==null?void 0:n[0]},768:{slidesPerView:(o=t.slidesPerView)==null?void 0:o[1],spaceBetween:(h=t.spaceBetween)==null?void 0:h[0]},1440:{slidesPerView:(g=t.slidesPerView)==null?void 0:g[2],spaceBetween:(u=t.spaceBetween)==null?void 0:u[1]}}};var et,nt;function N(){return N=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},N.apply(null,arguments)}var we=function(i){return c.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,fill:"none"},i),et||(et=c.createElement("path",{fill:"#D7D7D7",d:"m11.83 19 5.59-5.59L16 12l-8 8 8 8 1.41-1.41L11.83 21z"})),nt||(nt=c.createElement("path",{fill:"#D7D7D7",d:"M11.828 19h20.17v2h-20.17z"})))},it,ot;function M(){return M=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},M.apply(null,arguments)}var xe=function(i){return c.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,fill:"none"},i),it||(it=c.createElement("path",{fill:"#D7D7D7",d:"m28.17 21-5.59 5.59L24 28l8-8-8-8-1.41 1.41L28.17 19z"})),ot||(ot=c.createElement("path",{fill:"#D7D7D7",d:"M28.172 21H8.002v-2h20.17z"})))};const me=m.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 16px;
  height: 451px;
  border: 1px solid var(--bg-light-grey);
  padding: 24px;
  border-radius: 16px;
  overflow: auto;
  white-space: normal;
  word-wrap: break-word;

  ::-webkit-scrollbar {
    width: 8px;
  }
  ::-webkit-scrollbar-thumb {
    background-color: #555;
    border-radius: 6px;
  }
  ::-webkit-scrollbar-track {
    background-color: #f1f1f1; 
    border-radius: 6px;
    margin: 12px
  }

  ${$(l`
    height: 456px;
  `)}
`,ve=m.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
  width: 100%;
`,be=m.p`
  width: 100%;
  color: var(--text-light-grey);
  font-family: Arial;
  font-size: 18px;
  font-style: normal;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0.25px;
`,Se=m.h3`
  color: var(--text-light-grey);
  font-family: Fixel;
  font-size: 16px;
  font-style: normal;
  font-weight: 600;
  line-height: 110%;
  letter-spacing: 1.6px;
`,ke=m.p`
  color: var(--text-light-grey);
  font-family: Arial;
  font-size: 20px;
  font-style: normal;
  font-weight: 400;
  line-height: 120%;
  letter-spacing: 1px;
`,Ce=({text:t})=>{const{id:i,name:n,profession:o,review:h}=t;return e(ht,{children:d(me,{children:[d(ve,{children:[e(Se,{children:n}),e(be,{children:o})]}),e(ke,{children:h})]},i)})},rt=({renderArrayImg:t,renderArrayText:i,stylesProps:n})=>{var L,z,D,k,B,_,x,j,y;const[o,h]=c.useState(null),[g,u]=c.useState(0),[v,w]=c.useState(!0),f=c.useRef(null),b=c.useRef(null),E=p=>p>=1440?3.5:p>=768?2:1;c.useEffect(()=>{const p=()=>{const S=window.innerWidth,A=E(S),T=!!(i&&i.length<=A||t&&t.length<=A);w(T)};return p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}},[t,i]),c.useEffect(()=>{if(o&&f.current&&b.current){const p=()=>V(o,f,b);return o.on("slideChange",p),V(o,f,b),()=>{o.off("slideChange",p)}}},[o,v,t]);const r=p=>{h(p)};return c.useEffect(()=>{u(p=>p+1)},[n]),d(ce,{stylesProps:n,children:[(((L=n.display)==null?void 0:L[0])!=="none"||((z=n.display)==null?void 0:z[1])!=="none")&&d(se,{children:[((D=n.display)==null?void 0:D[0])!=="none"&&e(X,{children:"Діяльність у фотографіях"}),((k=n.display)==null?void 0:k[1])!=="none"&&e(X,{children:"Відгуки"}),!v&&d(ge,{stylesProps:n,children:[d(J,{ref:f,onClick:()=>P(o),children:[((B=n.display)==null?void 0:B[0])!=="none"&&e(Ct,{css:he}),((_=n.display)==null?void 0:_[1])!=="none"&&e(we,{css:le})]}),d(J,{ref:b,onClick:()=>F(o),children:[((x=n.display)==null?void 0:x[0])!=="none"&&e($t,{css:pe}),((j=n.display)==null?void 0:j[1])!=="none"&&e(xe,{css:de})]})]})]}),((y=n.display)==null?void 0:y[2])!=="none"&&d("div",{css:ue(n),children:[e("button",{css:Y,ref:f,onClick:()=>P(o),children:e(oe,{css:tt})}),e("button",{css:Y,ref:b,onClick:()=>F(o),children:e(re,{css:tt})})]}),e(zt,{onSwiper:r,css:ae(n),breakpoints:fe(n),modules:[Bt],children:t?t.length>0&&t.map((p,S)=>e(U,{className:"swiper-slide image-slide",children:e("img",{src:p.img_url,alt:"",onError:Yt})},S)):i&&i.length>0&&i.map(p=>e(U,{className:"swiper-slide text-slide",children:e(Ce,{text:p})},p.id))},g)]})},$e={container:{"padding-top":["",""],"padding-bottom":["",""],width:["100%"],height:["",""]},display:["none","none","flex"],width:["320px","332px","626px"],height:["320px","332px","626px"],gap:["6px","12px"],slidesPerView:[1,1,1],spaceBetween:[16,12],prevEl:["prevSmButton"],nextEl:["nextSmButton"]},Be={container:{"padding-top":["24px","40px"],"padding-bottom":["24px","40px"],width:["100%"],height:["563px","616px"]},display:["none","flex","none"],width:["320px","728px","1360px"],height:["456px","456px","456px"],gap:["6px","12px"],slidesPerView:[1,2,3.5],spaceBetween:[16,12],prevEl:["prevMdButton"],nextEl:["nextMdButton"]},Re=()=>{const t=pt(),i=gt(),n=ut(ft),o=I(wt),[h,g]=c.useState(null),[u,v]=c.useState(null),[w,f]=c.useState(null),[b,E]=c.useState(null),[r,L]=c.useState(null),[z,D]=c.useState([]),[k,B]=c.useState(),_=I(xt),{id:x}=mt(),j=r&&[...r.imageUrls],y=r&&r.title,p=r&&r.description,S=r&&Array.from(new Set(r.variations.map(s=>s.color))),A=!!(S!=null&&S.find(s=>s!==null)),T=r&&r.benefit,at=r&&r.composition.toLowerCase(),st=r&&r.product_code;c.useEffect(()=>{(async()=>{if(x)try{const a=await St(Number(x));L(a),v(a.variations[0].price),g(a.variations[0].size),f(a.variations[0].color),D(a.feedbacks),B(a.variations[0])}catch(a){console.log("error :>> ",a)}})()},[x]),c.useEffect(()=>{h&&r&&r.variations.forEach(s=>{if(Number(h)===s.size){v(s.price);const a=s.color?s.color:"";f(a),B(s)}})},[r,h]),c.useEffect(()=>{if(r){let s=null;r.variations.forEach(a=>{w===a.color&&a.size!==null&&(s===null||a.size<s)&&(s=a.size,v(a.price),g(a.size),B(a))})}},[w,r]);const C=r&&r.variations?r.variations.map(s=>s.size).filter(s=>s!==null):null;console.log("options :>> ",C);const W=C&&C.length>0&&C[0].toString().replace(/[^a-zA-Zа-яА-ЯёЁ]/g,""),H=!!(C&&C.length>0),ct=()=>{t(-1)},lt=()=>{if(!_.find(a=>a.product_id===Number(x)&&a.size===h&&a.size!==null||a.size===h&&a.size!==null&&a.product_id===Number(x)&&a.color===w))if(r&&x&&u!==null){const a={product_id:r.id,title:r.title,price:u,size:h,discount:k.discount,img:r.imageUrls[0],product_code:r.product_code,count:1,color:w,total_cost:u,quantity:k.count};i(kt(a))}else E("Оберіть будь ласка колір!")},dt=s=>{f(s),E(null)};return e(Jt,{children:e("div",{css:vt,children:d(Zt,{children:[d(yt,{children:[d(Et,{children:[e(Lt,{onClick:ct,children:e(ie,{css:Dt})}),e(_t,{children:"Магазин"}),e(bt,{css:jt}),e("h2",{css:At,children:"Сторінка товару"})]}),d(Rt,{children:[d(Tt,{children:[e(rt,{renderArrayImg:j,stylesProps:$e}),n&&e(ee,{productId:Number(x),title:y||""})]}),d(Nt,{children:[d(Mt,{children:[e(Ot,{children:y}),e(Wt,{children:"Є в наявності"})]}),d(Ht,{children:["Код товару:№",st]}),k&&e(te,{price:k.price,discount:k.discount,style_item:"productDetailsPage"}),e(It,{children:p}),A&&d(Vt,{isErrorMessage:b!==null,isOptions:H,children:[e(q,{children:"Колір"}),e(Pt,{children:S&&S.filter(s=>s!==null).map((s,a)=>d(Ft,{style:{background:s},onClick:()=>dt(s),children:[" ",w&&w===s?e("div",{css:Ut}):""]},a))}),b&&e("p",{style:{color:"red",fontSize:"14px",fontWeight:"500",position:"absolute",bottom:"-17px",left:"0px"},children:b})]}),H&&d(qt,{children:[e(q,{children:W?ne(W):""}),e(Gt,{children:e(Xt,{options:C,padding:"12px",borderRadius:"16px",disableWidth:"unset",setSelectedOption:g,selectedOption:h})})]}),e(G,{onClick:lt,style:{marginRight:20},children:"Додати до кошика"}),o!==0&&e(G,{onClick:()=>t("/cart"),children:"Перейти до кошика"})]})]})]}),d(K,{children:[e(Q,{children:"З чим допоможе?"}),e(Z,{children:T})]}),d(K,{children:[e(Q,{children:"Склад"}),e(Z,{children:at})]}),z.length>0&&e("div",{style:{background:"#252525"},children:e(rt,{renderArrayText:z,stylesProps:Be})}),e(Kt,{children:e(Qt,{})})]})})})};export{Re as default};
//# sourceMappingURL=ProductDetails-vvf-5Hvg.js.map
